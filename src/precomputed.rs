mod test {
    #[test]
    fn generate_knight_moves() {
        let mut moves = [0u64; 64];
        for i in 0..64 {
            let knights = 1 << i;
            let mut current_move = [0u64; 8];
            let not_a_file = 0x7F7F7F7F7F7F7F7Fu64;
            let not_b_file = 0xBFBFBFBFBFBFBFBFu64;
            let not_g_file = 0xFDFDFDFDFDFDFDFDu64;
            let not_h_file = 0xFEFEFEFEFEFEFEFEu64;
            let not_ab_file = not_a_file & not_b_file;
            let not_gh_file = not_g_file & not_h_file;
            current_move[0] = (knights << 17) & not_h_file;
            current_move[1] = (knights << 10) & not_gh_file;
            current_move[2] = (knights >> 6) & not_gh_file;
            current_move[3] = (knights >> 15) & not_h_file;
            current_move[7] = (knights << 15) & not_a_file;
            current_move[6] = (knights << 6) & not_ab_file;
            current_move[5] = (knights >> 10) & not_ab_file;
            current_move[4] = (knights >> 17) & not_a_file;
            moves[i] = current_move.iter().fold(0, |x, y| x | y);
        }
        print!("[");
        let mut first = true;
        for i in moves {
            if first == true {
                first = false;
            } else {
                print!(", ")
            }
            print!("0x{:016X}u64", i);
        }
        print!("]");
    }
    #[test]
    fn generate_king_moves() {
        let not_a_file = 0x7F7F7F7F7F7F7F7Fu64;
        let not_h_file = 0xFEFEFEFEFEFEFEFEu64;
        let mut moves = [0u64; 64];
        for i in 0..64 {
            let king = 1 << i;
            moves[i] = ((king << 9 | king << 1 | king >> 7) & not_h_file)
                | king << 8
                | ((king << 7 | king >> 1 | king >> 9) & not_a_file)
                | king >> 8;
        }
        print!("[");
        let mut first = true;
        for i in moves {
            if first == true {
                first = false;
            } else {
                print!(", ")
            }
            print!("0x{:016X}u64", i);
        }
        print!("]");
    }
    #[test]
    fn generate_rook_mask() {
        let mut mask = [0u64; 64];
        let mut file_mask = [0u64; 8];
        let mut rank_mask = [0u64; 8];
        for i in 0..8 {
            file_mask[i] = 0x0101010101010101u64 << i;
            rank_mask[i] = 0xFFu64 << i * 8;
        }
        print!("[");
        let mut first = true;
        for i in 0..64 {
            mask[i] = (file_mask[i % 8] | rank_mask[i / 8]) & !1 << i;
            if first == true {
                first = false;
            } else {
                print!(", ")
            }
            print!("0x{:016X}u64", i);
        }
        print!("]");
    }
    #[test]
    fn generate_bishop_mask() {
        let main_diag = 0x8040201008040201u64;
        let antimain_diag = 0x0102040810204080u64;
        let mut mask = [0u64; 64];

        print!("[");
        let mut first = true;
        for i in 0..64isize {
            let diag = 8 * (i & 7) - (i & 56);
            let diag_north = -diag & (diag >> 31);
            let diag_south = diag & (-diag >> 31);
            let anti_diag = 56 - 8 * (i & 7) - (i & 56);
            let anti_diag_north = -anti_diag & (anti_diag >> 31);
            let anti_diag_south = anti_diag & (-anti_diag >> 31);
            mask[i as usize] = (((main_diag as u64 >> diag_south) << diag_north)
                | ((antimain_diag as u64 >> anti_diag_south) << anti_diag_north))
                & !(1 << i);

            if first == true {
                first = false;
            } else {
                print!(", ")
            }

            print!("0x{:016X}u64", mask[i as usize]);
        }
        println!("]");
    }
}

pub static knight_moves: [u64; 64] = [
    0x0000000000020400u64,
    0x0000000000050800u64,
    0x00000000000A1100u64,
    0x0000000000142200u64,
    0x0000000000284400u64,
    0x0000000000508800u64,
    0x0000000000A01000u64,
    0x0000000000402000u64,
    0x0000000002040004u64,
    0x0000000005080008u64,
    0x000000000A110011u64,
    0x0000000014220022u64,
    0x0000000028440044u64,
    0x0000000050880088u64,
    0x00000000A0100010u64,
    0x0000000040200020u64,
    0x0000000204000402u64,
    0x0000000508000805u64,
    0x0000000A1100110Au64,
    0x0000001422002214u64,
    0x0000002844004428u64,
    0x0000005088008850u64,
    0x000000A0100010A0u64,
    0x0000004020002040u64,
    0x0000020400040200u64,
    0x0000050800080500u64,
    0x00000A1100110A00u64,
    0x0000142200221400u64,
    0x0000284400442800u64,
    0x0000508800885000u64,
    0x0000A0100010A000u64,
    0x0000402000204000u64,
    0x0002040004020000u64,
    0x0005080008050000u64,
    0x000A1100110A0000u64,
    0x0014220022140000u64,
    0x0028440044280000u64,
    0x0050880088500000u64,
    0x00A0100010A00000u64,
    0x0040200020400000u64,
    0x0204000402000000u64,
    0x0508000805000000u64,
    0x0A1100110A000000u64,
    0x1422002214000000u64,
    0x2844004428000000u64,
    0x5088008850000000u64,
    0xA0100010A0000000u64,
    0x4020002040000000u64,
    0x0400040200000000u64,
    0x0800080500000000u64,
    0x1100110A00000000u64,
    0x2200221400000000u64,
    0x4400442800000000u64,
    0x8800885000000000u64,
    0x100010A000000000u64,
    0x2000204000000000u64,
    0x0004020000000000u64,
    0x0008050000000000u64,
    0x00110A0000000000u64,
    0x0022140000000000u64,
    0x0044280000000000u64,
    0x0088500000000000u64,
    0x0010A00000000000u64,
    0x0020400000000000u64,
];
pub static king_moves: [u64; 64] = [
    0x0000000000000302u64,
    0x0000000000000705u64,
    0x0000000000000E0Au64,
    0x0000000000001C14u64,
    0x0000000000003828u64,
    0x0000000000007050u64,
    0x000000000000E0A0u64,
    0x000000000000C040u64,
    0x0000000000030203u64,
    0x0000000000070507u64,
    0x00000000000E0A0Eu64,
    0x00000000001C141Cu64,
    0x0000000000382838u64,
    0x0000000000705070u64,
    0x0000000000E0A0E0u64,
    0x0000000000C040C0u64,
    0x0000000003020300u64,
    0x0000000007050700u64,
    0x000000000E0A0E00u64,
    0x000000001C141C00u64,
    0x0000000038283800u64,
    0x0000000070507000u64,
    0x00000000E0A0E000u64,
    0x00000000C040C000u64,
    0x0000000302030000u64,
    0x0000000705070000u64,
    0x0000000E0A0E0000u64,
    0x0000001C141C0000u64,
    0x0000003828380000u64,
    0x0000007050700000u64,
    0x000000E0A0E00000u64,
    0x000000C040C00000u64,
    0x0000030203000000u64,
    0x0000070507000000u64,
    0x00000E0A0E000000u64,
    0x00001C141C000000u64,
    0x0000382838000000u64,
    0x0000705070000000u64,
    0x0000E0A0E0000000u64,
    0x0000C040C0000000u64,
    0x0003020300000000u64,
    0x0007050700000000u64,
    0x000E0A0E00000000u64,
    0x001C141C00000000u64,
    0x0038283800000000u64,
    0x0070507000000000u64,
    0x00E0A0E000000000u64,
    0x00C040C000000000u64,
    0x0302030000000000u64,
    0x0705070000000000u64,
    0x0E0A0E0000000000u64,
    0x1C141C0000000000u64,
    0x3828380000000000u64,
    0x7050700000000000u64,
    0xE0A0E00000000000u64,
    0xC040C00000000000u64,
    0x0203000000000000u64,
    0x0507000000000000u64,
    0x0A0E000000000000u64,
    0x141C000000000000u64,
    0x2838000000000000u64,
    0x5070000000000000u64,
    0xA0E0000000000000u64,
    0x40C0000000000000u64,
];

static rook_mask: [u64; 64] = [
    0x0000000000000000u64,
    0x0000000000000001u64,
    0x0000000000000002u64,
    0x0000000000000003u64,
    0x0000000000000004u64,
    0x0000000000000005u64,
    0x0000000000000006u64,
    0x0000000000000007u64,
    0x0000000000000008u64,
    0x0000000000000009u64,
    0x000000000000000Au64,
    0x000000000000000Bu64,
    0x000000000000000Cu64,
    0x000000000000000Du64,
    0x000000000000000Eu64,
    0x000000000000000Fu64,
    0x0000000000000010u64,
    0x0000000000000011u64,
    0x0000000000000012u64,
    0x0000000000000013u64,
    0x0000000000000014u64,
    0x0000000000000015u64,
    0x0000000000000016u64,
    0x0000000000000017u64,
    0x0000000000000018u64,
    0x0000000000000019u64,
    0x000000000000001Au64,
    0x000000000000001Bu64,
    0x000000000000001Cu64,
    0x000000000000001Du64,
    0x000000000000001Eu64,
    0x000000000000001Fu64,
    0x0000000000000020u64,
    0x0000000000000021u64,
    0x0000000000000022u64,
    0x0000000000000023u64,
    0x0000000000000024u64,
    0x0000000000000025u64,
    0x0000000000000026u64,
    0x0000000000000027u64,
    0x0000000000000028u64,
    0x0000000000000029u64,
    0x000000000000002Au64,
    0x000000000000002Bu64,
    0x000000000000002Cu64,
    0x000000000000002Du64,
    0x000000000000002Eu64,
    0x000000000000002Fu64,
    0x0000000000000030u64,
    0x0000000000000031u64,
    0x0000000000000032u64,
    0x0000000000000033u64,
    0x0000000000000034u64,
    0x0000000000000035u64,
    0x0000000000000036u64,
    0x0000000000000037u64,
    0x0000000000000038u64,
    0x0000000000000039u64,
    0x000000000000003Au64,
    0x000000000000003Bu64,
    0x000000000000003Cu64,
    0x000000000000003Du64,
    0x000000000000003Eu64,
    0x000000000000003Fu64,
];

static bishop_mask: [u64; 64] = [
    0x8040201008040200u64,
    0x0080402010080500u64,
    0x0000804020110A00u64,
    0x0000008041221400u64,
    0x0000000182442800u64,
    0x0000010204885000u64,
    0x000102040810A000u64,
    0x0102040810204000u64,
    0x4020100804020002u64,
    0x8040201008050005u64,
    0x00804020110A000Au64,
    0x0000804122140014u64,
    0x0000018244280028u64,
    0x0001020488500050u64,
    0x0102040810A000A0u64,
    0x0204081020400040u64,
    0x2010080402000204u64,
    0x4020100805000508u64,
    0x804020110A000A11u64,
    0x0080412214001422u64,
    0x0001824428002844u64,
    0x0102048850005088u64,
    0x02040810A000A010u64,
    0x0408102040004020u64,
    0x1008040200020408u64,
    0x2010080500050810u64,
    0x4020110A000A1120u64,
    0x8041221400142241u64,
    0x0182442800284482u64,
    0x0204885000508804u64,
    0x040810A000A01008u64,
    0x0810204000402010u64,
    0x0804020002040810u64,
    0x1008050005081020u64,
    0x20110A000A112040u64,
    0x4122140014224180u64,
    0x8244280028448201u64,
    0x0488500050880402u64,
    0x0810A000A0100804u64,
    0x1020400040201008u64,
    0x0402000204081020u64,
    0x0805000508102040u64,
    0x110A000A11204080u64,
    0x2214001422418000u64,
    0x4428002844820100u64,
    0x8850005088040201u64,
    0x10A000A010080402u64,
    0x2040004020100804u64,
    0x0200020408102040u64,
    0x0500050810204080u64,
    0x0A000A1120408000u64,
    0x1400142241800000u64,
    0x2800284482010000u64,
    0x5000508804020100u64,
    0xA000A01008040201u64,
    0x4000402010080402u64,
    0x0002040810204080u64,
    0x0005081020408000u64,
    0x000A112040800000u64,
    0x0014224180000000u64,
    0x0028448201000000u64,
    0x0050880402010000u64,
    0x00A0100804020100u64,
    0x0040201008040201u64,
];
